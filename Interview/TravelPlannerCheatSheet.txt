===================================================================================
                    ğŸ§³ 8-NODE TRAVEL PLANNER - CHEAT SHEET
===================================================================================

                        For Smart Stay Project
                        travel_graph.py Workflow

===================================================================================
                         QUICK OVERVIEW
===================================================================================

WHAT: Comprehensive travel itinerary generator
HOW: 8 specialized LangGraph nodes in sequence
OUTPUT: 2 complete travel packages (MakeMyTrip-style + DIY)

WORKFLOW DIAGRAM:
----------------

    START
      â”‚
      â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 1. DESTINATION RESEARCHER       â”‚ â†’ Places, weather, best time
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 2. TRANSPORT FINDER             â”‚ â†’ Flights, trains, buses, driving
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 3. ACCOMMODATION FINDER         â”‚ â†’ Hotels (central, secure)
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 4. ACTIVITIES PLANNER           â”‚ â†’ Sports, adventure, attractions
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 5. FOOD & SHOPPING GUIDE        â”‚ â†’ Restaurants, markets, specialties
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 6. TRAVEL REQUIREMENTS          â”‚ â†’ Visa, SIM, currency, vaccination
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 7. EMERGENCY & SAFETY           â”‚ â†’ Hospitals, police, warnings
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ 8. PACKAGE BUILDER              â”‚ â†’ Create 2 travel packages
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
    END (Return complete itinerary)

===================================================================================
                         STATE DEFINITION
===================================================================================

class TravelPlannerState(TypedDict):
    # Input
    query: str              # "Plan a trip to Goa from Mumbai"
    source: str             # "Mumbai"
    destination: str        # "Goa"
    preferences: dict       # {vehicle: "petrol", food: "veg", budget: "mid"}
    
    # Accumulated by nodes
    destination_info: dict  # Node 1 output
    transport_options: dict # Node 2 output
    accommodations: dict    # Node 3 output
    activities: dict        # Node 4 output
    food_shopping: dict     # Node 5 output
    requirements: dict      # Node 6 output
    emergency_info: dict    # Node 7 output
    final_packages: list    # Node 8 output

===================================================================================
                         NODE BREAKDOWN
===================================================================================

NODE 1: DESTINATION RESEARCHER
------------------------------
Input:  query, destination
Output: destination_info

What it does:
- Searches web for destination info
- Gets current weather
- Finds best time to visit
- Identifies key places

Tools used:
- smart_web_search("travel guide {destination}")
- get_weather(destination)

Returns:
{
    "destination_info": {
        "overview": "Goa is a coastal paradise...",
        "weather": "28Â°C, Sunny",
        "best_time": "October to March",
        "places": ["Calangute Beach", "Fort Aguada", ...]
    }
}

---

NODE 2: TRANSPORT FINDER
------------------------
Input:  source, destination, preferences
Output: transport_options

What it does:
- Searches flights (if applicable)
- Searches trains
- Searches buses
- Calculates driving route (if car preference)
- Estimates costs

Tools used:
- smart_web_search("{source} to {destination} flights trains buses")

Returns:
{
    "transport_options": {
        "flights": [...],
        "trains": [...],
        "buses": [...],
        "driving": {
            "distance": "600 km",
            "time": "10 hours",
            "route": "Mumbai-Pune-Kolhapur-Goa"
        }
    }
}

---

NODE 3: ACCOMMODATION FINDER
----------------------------
Input:  destination, preferences (budget)
Output: accommodations

What it does:
- Searches hotels in destination
- Filters by budget range
- Prioritizes central locations
- Checks safety ratings

Tools used:
- smart_web_search("best hotels {destination} {budget}")

Returns:
{
    "accommodations": {
        "budget": [...],
        "mid_range": [...],
        "luxury": [...],
        "recommendations": "For first-timers, stay in Calangute..."
    }
}

---

NODE 4: ACTIVITIES PLANNER
--------------------------
Input:  destination, destination_info
Output: activities

What it does:
- Plans day-wise activities
- Categorizes: adventure, cultural, relaxation
- Adds timings and tips
- Considers weather

Tools used:
- smart_web_search("things to do in {destination}")

Returns:
{
    "activities": {
        "day_1": ["Beach hopping", "Water sports"],
        "day_2": ["Fort Aguada", "Spice plantation"],
        "day_3": ["Dudhsagar Falls", "Local market"],
        "adventure": [...],
        "cultural": [...],
        "relaxation": [...]
    }
}

---

NODE 5: FOOD & SHOPPING GUIDE
-----------------------------
Input:  destination, preferences (food)
Output: food_shopping

What it does:
- Finds restaurants matching food preference
- Lists local specialties
- Identifies shopping areas
- Suggests souvenirs

Tools used:
- smart_web_search("{food_preference} restaurants {destination}")

Returns:
{
    "food_shopping": {
        "restaurants": {
            "veg": [...],
            "non_veg": [...],
            "cafes": [...]
        },
        "local_food": ["Fish curry", "Bebinca", ...],
        "shopping": ["Mapusa Market", "Calangute Street"],
        "souvenirs": ["Cashews", "Feni", "Handicrafts"]
    }
}

---

NODE 6: TRAVEL REQUIREMENTS
---------------------------
Input:  destination, source
Output: requirements

What it does:
- Checks visa requirements (if international)
- SIM card info
- Currency exchange
- Vaccination needs
- Travel insurance

Tools used:
- smart_web_search("{destination} travel requirements visa")

Returns:
{
    "requirements": {
        "visa": "Not required for Indian citizens",
        "sim": "Jio/Airtel work well",
        "currency": "INR, cards accepted widely",
        "vaccination": "None required",
        "insurance": "Recommended for water sports"
    }
}

---

NODE 7: EMERGENCY & SAFETY
--------------------------
Input:  destination
Output: emergency_info

What it does:
- Lists hospitals
- Police stations
- Emergency numbers
- Safety tips
- Scam warnings

Tools used:
- smart_web_search("{destination} emergency contacts hospitals")

Returns:
{
    "emergency_info": {
        "hospitals": [
            {"name": "GMC", "phone": "0832-2458700"}
        ],
        "police": "100",
        "tourist_helpline": "1363",
        "safety_tips": ["Avoid isolated beaches at night", ...],
        "scams": ["Inflated taxi prices", ...]
    }
}

---

NODE 8: PACKAGE BUILDER
-----------------------
Input:  ALL accumulated state
Output: final_packages

What it does:
- Compiles everything into packages
- Creates MakeMyTrip-style package (all-inclusive)
- Creates DIY package (flexible)
- Calculates total costs
- Adds day-wise itinerary

Returns:
{
    "final_packages": [
        {
            "name": "Complete Goa Package",
            "type": "all_inclusive",
            "duration": "4D/3N",
            "price_estimate": "â‚¹15,000 - â‚¹25,000 per person",
            "includes": ["Transport", "Hotel", "Breakfast", ...],
            "itinerary": {
                "day_1": [...],
                "day_2": [...],
                ...
            }
        },
        {
            "name": "DIY Goa Adventure",
            "type": "flexible",
            "duration": "Customize",
            "budget_breakdown": {
                "transport": "â‚¹2,000 - â‚¹5,000",
                "hotel": "â‚¹1,500 - â‚¹5,000/night",
                ...
            },
            "tips": [...]
        }
    ]
}

===================================================================================
                         CODE STRUCTURE
===================================================================================

BUILDING THE GRAPH:
------------------

    from langgraph.graph import StateGraph, START, END
    
    # Create graph
    graph = StateGraph(TravelPlannerState)
    
    # Add all 8 nodes
    graph.add_node("destination_researcher", research_destination)
    graph.add_node("transport_finder", find_transport)
    graph.add_node("accommodation_finder", find_accommodation)
    graph.add_node("activities_planner", plan_activities)
    graph.add_node("food_shopping_guide", guide_food_shopping)
    graph.add_node("travel_requirements", check_requirements)
    graph.add_node("emergency_safety", get_emergency_info)
    graph.add_node("package_builder", build_packages)
    
    # Connect nodes in sequence
    graph.add_edge(START, "destination_researcher")
    graph.add_edge("destination_researcher", "transport_finder")
    graph.add_edge("transport_finder", "accommodation_finder")
    graph.add_edge("accommodation_finder", "activities_planner")
    graph.add_edge("activities_planner", "food_shopping_guide")
    graph.add_edge("food_shopping_guide", "travel_requirements")
    graph.add_edge("travel_requirements", "emergency_safety")
    graph.add_edge("emergency_safety", "package_builder")
    graph.add_edge("package_builder", END)
    
    # Compile
    travel_graph = graph.compile()


RUNNING THE GRAPH:
-----------------

    result = travel_graph.invoke({
        "query": "Plan a 4 day trip to Goa from Mumbai",
        "source": "Mumbai",
        "destination": "Goa",
        "preferences": {
            "vehicle_type": "petrol",
            "food_preference": "vegetarian",
            "budget": "mid_range"
        }
    })
    
    # result contains everything!
    print(result["final_packages"])

===================================================================================
                         INTERVIEW TALKING POINTS
===================================================================================

1. "I built an 8-node LangGraph workflow for travel planning"

2. "Each node has a single responsibility following SOLID principles"

3. "Nodes use Tavily web search for real-time data and GPT-4 for processing"

4. "State accumulates through nodes - each node adds its findings"

5. "Final node combines everything into ready-to-use travel packages"

6. "Similar to assembly line - each station does one thing well"

7. "This architecture is extensible - I can add nodes for budget calculation, 
    booking integration, etc."

===================================================================================
                         QUICK REFERENCE
===================================================================================

Graph: TravelPlannerState â†’ 8 nodes â†’ Final packages

Nodes:
1. destination_researcher â†’ Places, weather
2. transport_finder â†’ Flights, trains, driving
3. accommodation_finder â†’ Hotels by budget
4. activities_planner â†’ Day-wise activities
5. food_shopping_guide â†’ Restaurants, souvenirs
6. travel_requirements â†’ Visa, SIM, currency
7. emergency_safety â†’ Hospitals, police, tips
8. package_builder â†’ Complete packages

Tools:
- smart_web_search (Tavily)
- get_weather (wttr.in)
- OpenAI GPT-4o-mini (processing)

Output: 2 packages (all-inclusive + DIY)

===================================================================================

